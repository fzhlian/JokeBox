"use strict";function processDataProcesses(e,s){function a(e,s){e.forEach(e=>{var a,o;s.has(e.label)?s.set(e.label,new Set([...Array.from(null!==(a=s.get(e.label))&&void 0!==a?a:[]),...null!==(o=e.purposes)&&void 0!==o?o:[]])):s.set(e.label,new Set(e.purposes))})}return null==e||e.forEach(e=>{s.has(e.dataType)?(e=>{const o=s.get(e.dataType);a(e.dataLabels,o)})(e):(e=>{const o=new Map;a(e.dataLabels,o),s.set(e.dataType,o)})(e)}),s}function processSpecialAPIs(e,s){return null==e||e.forEach(e=>{s.has(e.apiType)?e.reasons.forEach(a=>s.get(e.apiType).add(a)):s.set(e.apiType,new Set(e.reasons))}),s}function mergePacFiles(e){const s={dataProcess:[],specialAPIs:[]},a=new Map,o=new Map;e.forEach(e=>{var s,r;processDataProcesses(null!==(s=e.dataProcess)&&void 0!==s?s:[],a),processSpecialAPIs(null!==(r=e.specialAPIs)&&void 0!==r?r:[],o)});for(const[e,o]of a.entries()){const a=[];for(const[e,s]of o.entries()){const o={label:e,purposes:Array.from(s)};a.push(o)}const r={dataType:e,dataLabels:a};s.dataProcess.push(r)}for(const[e,a]of o.entries()){const o={apiType:e,reasons:Array.from(a)};s.specialAPIs.push(o)}return s}Object.defineProperty(exports,"__esModule",{value:!0}),exports.mergePacFiles=void 0,exports.mergePacFiles=mergePacFiles;