import { MergeKeyEnum } from '../../consts/errorlog-consts.js';
import { MergeOption } from '../../interfaces/merge-option.js';
import { HvigorErrorInfo } from '../../logger/hvigor-error-info.js';
/**
 * 针对收集到的错误信息列表，相同key的ErrorInfo合并到一起，其余字段可配置是否合并或保留最后一个
 * @param mergedKey 指定当code或cause或solutions或moreInfo相同时，对错误信息列表里的元素进行合并
 * @param option mergeKey相同的元素，其余字段的合并策略。不配置的字段默认按COLLECT_LAST策略合并。
 *
 * 示例：
 * 已通过pushError()函数将如下错误压栈。
 * hvigorLogList：[{
 *  code: '11020100',
 *  description: 'API not support.',
 *  cause: 'The function `getDomInfo()` is not support under API level 12.',
 *  position: 'line 34 of D://path/to/the/invalid/file/test.ets',
 *  solutions: ['Update API level to 12 or higher.','Use function `getDom()` instead of `getDomInfo()`.'],
 *  moreInfo?: {
 *      cn: 'https://123/cn/235',
 *      en: 'https://123/en/235'
 *  },
 * }, {
 *  code: '11020100',
 *  description: 'API not support.',
 *  cause: 'The function `setWidth()` is not support under API level 10.',
 *  position: 'line 134 of D://path/to/the/invalid/file/demo.ets.',
 *  solutions: ['Update API level to 10 or higher.'],
 *  moreInfo?: {
 *      cn: 'https://123/cn/67',
 *      en: 'https://123/en/67'
 *  },
 * }, {
 *  code: '11020100',
 *  description: 'API not support.',
 *  cause: 'The function `maxmise()` is not support under API level 10.',
 *  position: 'line 13 of D://path/to/the/invalid/file/demo.ets.',
 *  solutions: ['Update API level to 10 or higher.'],
 *  moreInfo?: {
 *      cn: 'https://123/cn/536',
 *      en: 'https://123/en/536'
 *  },
 * }, {
 *  code: '21030400',
 *  description: 'The capacity exceeds the threshold.',
 *  cause: 'The `maxOldSpace` configed in file hvigor-config.json5 is higher than 2000.',
 *  position: 'the `maxOldSpace` of `nodeOptions` in D://path/to/the/invalid/file/hvigor-config.json5.',
 *  solutions: ['Adjusting `maxOldSpace` no higher than 2000.'],
 *  moreInfo?: {
 *      cn: 'https://123/cn/2234',
 *      en: 'https://123/en/2334'
 *  },
 * }]
 *
 * 示例1：调用函数 printMergedError('code', {cause: MergeType.COLLECT_ALL, position: MergeType.COLLECT_ALL}) 则打印效果如下：
 * > hvigor ERROR Code: 11020100 :entry:default@CompileResource
 * ERROR: API not support.
 * Error Message: The function `getDomInfo()` is not support under API level 12. At line 34 of D://path/to/the/invalid/file/test.ets.
 * The function `setWidth()` is not support under API level 10. At line 134 of D://path/to/the/invalid/file/demo.ets.
 * The function `maxmise()` is not support under API level 10. At line 13 of D://path/to/the/invalid/file/demo.ets.
 *
 * * Try the following:
 *   > Update API level to 10 or higher.
 *   > More info: https://123/cn/536   // 说明：中文环境下使用cn，英文环境下使用en
 *
 * > hvigor ERROR Code: 21030400 :entry:default@CompileResource
 * ERROR: The capacity exceeds the threshold.
 * Error Message: The `maxOldSpace` configed in file hvigor-config.json5 is higher than 2000. At the `maxOldSpace` of `nodeOptions` in D://path/to/the/invalid/file/hvigor-config.json5.
 *
 * * Try the following:
 *   > Adjusting `maxOldSpace` no higher than 2000.
 *   > More info: https://123/cn/2234
 *
 * 示例2：调用函数 printMergedError('code', {cause: MergeType.COLLECT_ALL, solutions: MergeType.COLLECT_FIRST}) 则打印效果如下：
 * > hvigor ERROR Code: 11020100 :entry:default@CompileResource
 * ERROR: API not support.
 * Error Message: The function `getDomInfo()` is not support under API level 12. At line 13 of D://path/to/the/invalid/file/demo.ets.
 * The function `setWidth()` is not support under API level 10. At line 13 of D://path/to/the/invalid/file/demo.ets.
 * The function `maxmise()` is not support under API level 10. At line 13 of D://path/to/the/invalid/file/demo.ets.
 *
 * * Try the following:
 *   > Update API level to 12 or higher.
 *   > Use function `getDom()` instead of `getDomInfo()`.
 *   > More info: https://123/cn/536
 *
 * > hvigor ERROR Code: 21030400 :entry:default@CompileResource
 * ERROR: The capacity exceeds the threshold.
 * Error Message: The `maxOldSpace` configed in file hvigor-config.json5 is higher than 2000. At the `maxOldSpace` of `nodeOptions` in D://path/to/the/invalid/file/hvigor-config.json5.
 *
 * * Try the following:
 *   > Adjusting `maxOldSpace` no higher than 2000.
 *   > More info: https://123/cn/2234
 *
 */
export declare class MergeErrorList {
    private static mergePropertyMap;
    private static groupByKeyMap;
    private hvigorLogList;
    private mergeKey;
    private option;
    constructor(hvigorLogList: HvigorErrorInfo[], mergeKey: MergeKeyEnum, option?: MergeOption);
    getMergedErrorList(): HvigorErrorInfo[];
    /**
     * 按mergeKey进行分组，相同mergeKey的放一起.
     * @param mergeKey
     * @param option
     * @returns Map<mergeKey, HvigorErrorInfo[]>形式.
     */
    private getGroupedErrors;
    /**
     * 对每组按option合并规则进行字段合并,每组合并后的结果push到新的数组中
     * @param errorList
     * @param option
     * @returns
     */
    private mergeErrors;
    /**
     * 合并两个ErrorInfo，返回合并后的新的ErrorInfo.
     * @param firstError
     * @param secondError
     * @param option
     * @returns
     */
    private mergeTwoErrors;
    /**
     * 将用户option处理为全量option，包括比较函数
     * @param option
     */
    private handleOption;
}
