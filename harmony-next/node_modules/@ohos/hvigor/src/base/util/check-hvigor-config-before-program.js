"use strict";var __importDefault=this&&this.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.checkHvigorConfigBeforeProgram=void 0;const fs_1=__importDefault(require("fs")),path_1=__importDefault(require("path")),const_js_1=require("../../common/const/const.js"),path_const_js_1=require("../../common/const/path-const.js"),parse_json_file_js_1=require("../../common/util/parse-json-file.js");function checkHvigorConfigBeforeProgram(r,e){try{return fs_1.default.existsSync(path_1.default.resolve(path_const_js_1.HVIGOR_PROJECT_WRAPPER_HOME,const_js_1.DEFAULT_HVIGOR_CONFIG_JSON_FILE_NAME))?(parse_json_file_js_1.ParseJsonFile.parseJsonFile(path_1.default.resolve(path_const_js_1.HVIGOR_PROJECT_WRAPPER_HOME,const_js_1.DEFAULT_HVIGOR_CONFIG_JSON_FILE_NAME)),{result:!0}):{result:!0}}catch(o){let t;return o instanceof Error?(t=`${o.message}`,r.stacktrace&&o.stack&&(t+=`${o.stack}\n`)):t="UnKnown Error",e.printError("SYNTAX_ERROR_IN_HVIGOR_CONFIG_JSON5",[t]),{result:!1,stack:null==o?void 0:o.stack,message:formatHvigorConfigErrorMsg(t)}}}function formatHvigorConfigErrorMsg(r){return`00303236 Configuration Error\nError Message: ${r}\n\n* Try the following:\n  > Correct the syntax error as indicated above in the hvigor-config.json5 file.`}exports.checkHvigorConfigBeforeProgram=checkHvigorConfigBeforeProgram;