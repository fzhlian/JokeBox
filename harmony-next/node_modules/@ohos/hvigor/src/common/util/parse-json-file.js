"use strict";var __decorate=this&&this.__decorate||function(e,r,t,o){var s,a=arguments.length,i=a<3?r:null===o?o=Object.getOwnPropertyDescriptor(r,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,r,t,o);else for(var n=e.length-1;n>=0;n--)(s=e[n])&&(i=(a<3?s(i):a>3?s(r,t,i):s(r,t))||i);return a>3&&i&&Object.defineProperty(r,t,i),i},__importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.parseJsonFile=exports.ParseJsonFile=void 0;const fs_1=__importDefault(require("fs")),os_1=__importDefault(require("os")),path_1=__importDefault(require("path")),param_replace_decorator_js_1=require("../../base/util/util-decorator/param-replace-decorator.js"),hvigor_common_1=require("@ohos/hvigor-common");class ParseJsonFile{static parseJsonFile(e,r=!1,t="utf-8"){const o=fs_1.default.readFileSync(path_1.default.resolve(e),{encoding:t});try{return(0,hvigor_common_1.parseJsonText)(o,r)}catch(r){if(r instanceof SyntaxError){const t=r.message.split("at");if(2===t.length)throw new Error(`${t[0].trim()}${os_1.default.EOL}\t at ${e}:${t[1].trim()}`)}throw new Error(`${e} is not in valid JSON/JSON5 format.`)}}}function parseJsonFile(e,r=!1,t="utf-8"){return ParseJsonFile.parseJsonFile(e,r,t)}__decorate([(0,param_replace_decorator_js_1.WithParamReplacement)()],ParseJsonFile,"parseJsonFile",null),exports.ParseJsonFile=ParseJsonFile,exports.parseJsonFile=parseJsonFile;