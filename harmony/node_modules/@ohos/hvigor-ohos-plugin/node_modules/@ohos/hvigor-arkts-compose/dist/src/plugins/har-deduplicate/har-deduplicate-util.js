"use strict";var __importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.getHarDuplicateFileSet=exports.isHspCollectFilesCompile=exports.isHspDeduplicateRealCompile=void 0;const fs_1=__importDefault(require("fs")),os_1=__importDefault(require("os")),path_1=__importDefault(require("path")),hsp_collect_har_files_js_1=require("./hsp-collect-har-files.js");function isHspDeduplicateRealCompile(e){return!(!e.isHarDeduplicateEnabled||e.isHarDeduplicateArkCompile||"shared"!==e.moduleType)}function isHspCollectFilesCompile(e){return!(!e.isHarDeduplicateEnabled||!e.isHarDeduplicateArkCompile||"shared"!==e.moduleType)}function getHarDuplicateFileSet(e){if(isHspDeduplicateRealCompile(e)){const t=path_1.default.join(e.intermediateHarDuplicateDirPath,hsp_collect_har_files_js_1.SOURCE_HAR_DUPLICATE_FILES_INFO);if(!fs_1.default.existsSync(t))return;const i=fs_1.default.readFileSync(t,{encoding:"utf-8"});return new Set(i.trim().split(os_1.default.EOL).filter((e=>e)))}}exports.isHspDeduplicateRealCompile=isHspDeduplicateRealCompile,exports.isHspCollectFilesCompile=isHspCollectFilesCompile,exports.getHarDuplicateFileSet=getHarDuplicateFileSet;