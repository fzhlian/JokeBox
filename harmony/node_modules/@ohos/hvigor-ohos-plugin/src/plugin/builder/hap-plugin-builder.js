"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.HapPluginBuilder=void 0;const abstract_plugin_builder_js_1=require("./abstract-plugin-builder.js"),hvigor_1=require("@ohos/hvigor"),plugin_inspector_js_1=require("../factory/plugin-inspector.js");class HapPluginBuilder extends abstract_plugin_builder_js_1.AbstractPluginBuilder{constructor(e,r=!1){super(r),this.module=e}get creatorManager(){return this._creatorManager}set creatorManager(e){this._creatorManager=e}createPlugin(){var e;return this._log.debug("Hap plugin creating..."),null===(e=this.initializationStrategy)||void 0===e?void 0:e.createHapPlugin(this.module,this)}registerHooks(e){this._log.debug("Hap plugin register hook start..."),hvigor_1.hvigorCore.hvigorAfterNodeInternalHook(this.module.getName(),async()=>{e.initContext()}),hvigor_1.hvigorCore.hvigorNodeEvaluatedInternalHook(()=>{var r;this.ifThrowBuildModeError(),null===(r=e.getTaskService())||void 0===r||r.initDependencyInfo(),this.initializeTaskDepends(this.module,this.creatorManager,this.isFaMode),plugin_inspector_js_1.PluginInspector.checkFeatureEntryModules(e)}),this._log.debug("Hap plugin register hook end...")}}exports.HapPluginBuilder=HapPluginBuilder;