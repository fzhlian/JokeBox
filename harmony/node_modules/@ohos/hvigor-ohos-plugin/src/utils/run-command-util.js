"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.RunCommandUtil=void 0;const child_process_1=require("child_process"),ohos_logger_1=require("./log/ohos-logger"),isWindows="win32"===process.platform,scriptShell=isWindows?process.env.ComSpec||"cmd":process.env.SHELL||"sh";class RunCommandUtil{static run(s,o=process.cwd(),e){var r;if(!s)return this._log.error("",`Missing script: ${s}`),!1;const i=isWindows?["/d","/c",s]:["-c",s],n=(0,child_process_1.spawnSync)(scriptShell,i,{windowsVerbatimArguments:!0,stdio:"inherit",cwd:o,env:process.env});if(n&&0===n.status)return!0;if(e){const s=null===(r=n.error)||void 0===r?void 0:r.message;this._log.warn(`excute command failed, error is${s}`)}return!1}}exports.RunCommandUtil=RunCommandUtil,RunCommandUtil._log=ohos_logger_1.OhosLogger.getLogger("RunCommandUtil");